{% extends 'base.html' %}
{% block title %}Reçu{% endblock %}

{% block content %}
<div class="recu" id="recuContent">
    <div class="header">
        <h2>Ecc 8e CEPAC AMANI NGUBA</h2>
        <p>Email : 8ecepacamaninguba@gmail.com</p>
        <p>Tel : +243 974919329, 8159448</p>
        <p>BP : 266 BUKAVU</p>
    </div>
    <h3>Reçu</h3>
    <p>Numéro du reçu : <strong>{{ dime.numero_recu or 'N/A' }}</strong></p>
    <p>Nom : <strong>{{ dime.membre.nom if dime.membre else 'Inconnu' }} {{ dime.membre.postnom if dime.membre else '' }}</strong></p>
    <p>Montant : <strong>{{ dime.montant or 0 }} {{ dime.monnaie or '' }}</strong></p>
    <p>Date : <strong>{{ dime.date.strftime('%d/%m/%Y') if dime.date else 'Non défini' }}</strong></p>
    <br>
    <p>Signature Comptable : ____________</p>
    <p>Rev : ____________</p>
</div>

<div class="print-btn-container">
    <button onclick="imprimerRecu()"><i class="fas fa-print"></i> Imprimer le reçu</button>
</div>

<style>
/* Reçu compact pour 1/8 A4 */
.recu {
    background-color: #1E1E1E;
    padding: 15px;
    border-radius: 8px;
    width: 210px; /* environ 1/8 de A4 en largeur */
    font-size: 12px;
    margin: 20px auto;
    color: #E0E0E0;
    box-shadow: 0 0 5px rgba(0,0,0,0.5);
}
.header {
    text-align: center;
}
.recu h2 {
    color: #4ADE80;
    font-size: 14px;
}
.recu h3 {
    text-align: center;
    margin: 10px 0;
}
.recu p {
    margin: 6px 0;
}
.recu strong {
    color: #4ADE80;
}

.print-btn-container {
    text-align: center;
    margin-top: 15px;
}
.print-btn-container button {
    padding: 8px 15px;
    font-size: 12px;
    border-radius: 8px;
    border: none;
    background-color: #4ADE80;
    color: #1E1E1E;
    cursor: pointer;
    transition: transform 0.2s, background-color 0.2s;
}
.print-btn-container button:hover {
    background-color: #22c55e;
    transform: scale(1.05);
}

/* Impression */
@media print {
    body * {
        visibility: hidden;
    }
    #recuContent, #recuContent * {
        visibility: visible;
    }
    #recuContent {
        position: absolute;
        left: 0;
        top: 0;
        width: 210px; /* largeur imprimée */
        font-size: 12px;
    }
}
</style>

<script>
function imprimerRecu() {
    window.print();
}
</script>
{% endblock %}
